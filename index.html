<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <title>MacDonald</title>
   <link href="./css/styles.css" rel="stylesheet">
   <script src="./js/SpeechSDK.js"></script>
   <script src="./js/chat.js"></script>
</head>

<body onload="showHelpModal()"  style="background-size: cover; background-image: url('./image/background.jpg');">


   <div id="configuration" hidden>
      <h2 style="background-color: white; width: 300px;">Azure Speech Resource</h2>
      <label style="font-size: medium;" for="region">Region:</label>
      <select id="region" style="font-size: medium;">
         <option value="westus2">West US 2</option>
         <option value="westeurope">West Europe</option>
         <option value="southeastasia">Southeast Asia</option>
      </select>
      <label style="font-size: medium;" for="subscriptionKey">Subscription Key:</label>
      <input id="subscriptionKey" type="password" size="32" style="font-size: medium;"
         value="27506bcd68114a929ef02cacc8f6b279" />
      <div style="background-color: white; width: 300px;">
         <input type="checkbox" id="enablePrivateEndpoint" onchange="window.updatePrivateEndpoint()">Enable Private
         Endpoint</input><br />
      </div>
      <div id="showPrivateEndpointCheckBox" hidden="hidden">
         <label style="font-size: medium;" for="privateEndpoint">Private Endpoint:</label>
         <input id="privateEndpoint" type="text" size="64" style="font-size: medium;"
            placeholder="https://{your custom name}.cognitiveservices.azure.com/"></input><br />
      </div>
      <br />
      <h2 style="background-color: white; width: 300px;">Azure OpenAI Resource</h2>
      <label style="font-size: medium;" for="azureOpenAIEndpoint">Endpoint:</label>
      <input id="azureOpenAIEndpoint" type="text" size="64" value="https://justin-openai-demo.openai.azure.com/"
         style="font-size: medium;"></input><br />
      <label style="font-size: medium;" for="azureOpenAIApiKey">API Key:</label>
      <input id="azureOpenAIApiKey" type="password" value="1a1f8c2855a44483bbd3ef4c838996c8" size="32"
         style="font-size: medium;" /><br />
      <label style="font-size: medium;" for="azureOpenAIDeploymentName">Deployment Name:</label>
      <input id="azureOpenAIDeploymentName" type="text" size="32" value="justin-gpt-4o"
         style="font-size: medium;" /><br />
      <label style="font-size: medium;" for="prompt">System Prompt:</label><br />
      <textarea id="prompt"
         style="width: 640px;">You are a MacDonald manager to take orders from customers. You can only take orders for [big mac, cheeseburger, milo and coke].  After the customer has said something, just ask him if he would like anything else, no need to repeat the menu again. Example: Customer: I would like 1 big mac. Response: 1 big mac, anything else? If the customer says he has nothing else to order, say "Please proceed with checkout" </textarea>
      <div style="background-color: white; width: 300px;">
         <input type="checkbox" id="enableOyd" onchange="window.updataEnableOyd()">Enable On Your Data</input><br />
      </div>
      <br />
      <div id="cogSearchConfig" hidden="hidden">
         <h2 style="background-color: white; width: 400px;">Azure Cognitive Search Resource</h2>
         <label style="font-size: medium;" for="azureCogSearchEndpoint">Endpoint:</label>
         <input id="azureCogSearchEndpoint" type="text" size="64" style="font-size: medium;"></input><br />
         <label style="font-size: medium;" for="azureCogSearchApiKey">API Key:</label>
         <input id="azureCogSearchApiKey" type="password" size="32" style="font-size: medium;" /><br />
         <label style="font-size: medium;" for="azureCogSearchIndexName">Index Name:</label>
         <input id="azureCogSearchIndexName" type="text" size="32" style="font-size: medium;" /><br />
         <br />
      </div>
      <h2 style="background-color: white; width: 300px;">STT / TTS Configuration</h2>
      <label style="font-size: medium;" for="sttLocale">STT Locale(s):</label>
      <input id="sttLocales" type="text" size="64" style="font-size: medium;"
         value="en-US,de-DE,es-ES,fr-FR,it-IT,ja-JP,ko-KR,zh-CN"></input><br />
      <label style="font-size: medium;" for="ttsVoice">TTS Voice:</label>
      <input id="ttsVoice" type="text" size="32" style="font-size: medium;"
         value="en-US-AvaMultilingualNeural"></input><br />
      <label style="font-size: medium;" for="customVoiceEndpointId">Custom Voice Deployment ID (Endpoint ID):</label>
      <input id="customVoiceEndpointId" type="text" size="32" style="font-size: medium;" value=""></input><br />
      <label style="font-size: medium;" for="personalVoiceSpeakerProfileID">Personal Voice Speaker Profile ID:</label>
      <input id="personalVoiceSpeakerProfileID" type="text" size="32" style="font-size: medium;" value=""></input><br />
      <div style="background-color: white; width: 300px;">
         <input type="checkbox" id="continuousConversation" checked>Continuous Conversation</input><br />
      </div>
      <br />
      <h2 style="background-color: white; width: 300px;">Avatar Configuration</h2>
      <label style="font-size: medium;" for="talkingAvatarCharacter">Avatar Character:</label>
      <input id="talkingAvatarCharacter" type="text" size="16" style="font-size: medium;" value="lisa"></input><br />
      <label style="font-size: medium;" for="talkingAvatarStyle">Avatar Style:</label>
      <input id="talkingAvatarStyle" type="text" size="16" style="font-size: medium;"
         value="casual-sitting"></input><br />
      <div style="background-color: white; width: 200px;">
         <input type="checkbox" id="customizedAvatar">Custom Avatar</input><br />
      </div>
      <div style="background-color: white; width: 200px;">
         <input type="checkbox" id="autoReconnectAvatar">Auto Reconnect</input><br />
      </div>
      <div style="background-color: white; width: 200px;">
         <input type="checkbox" id="useLocalVideoForIdle" onchange="window.updateLocalVideoForIdle()">Use Local Video
         for Idle</input><br />
      </div>
      <br />
   </div>
   <div style="background-color: #000000; 
  border-radius: 15px;" class="collection">
      <a href="#" id="startSession" onclick="window.startSession()">
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         Open Session
      </a>
      <a href="#" id="microphone" onclick="window.microphone()">
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         Start Microphone
      </a>
      <a href="#" id="stopSpeaking" onclick="stopSpeaking()" disabled>
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         Stop Speaking
      </a>
      <a href="#" id="clearChatHistory" onclick="window.clearChatHistory()">
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         Clear Chat
      </a>
      <a href="#" id="stopSession" onclick="showHelpModal()">
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         Help
      </a>

   </div>
   <div id = "cartTab" class="cartTab" style ="visibility: hidden;">
      <h1>Shopping Cart</h1>
      <div class="listCart"> </div>
      
      <div class="btn">
          <button class="closebutton" onclick = "hideCart();">CLOSE</button>
          <button class="checkOut" onclick = "checkout();">Check Out</button>
      </div>
   </div>

   <div class="flex-container">
      <div id="videoContainer" style="position: relative; width: 800px;">
         <div id="overlayArea">
            <div id="localVideo" hidden>
               <video src="video/lisa-casual-sitting-idle.mp4" autoplay loop muted></video>
            </div>
            <div id="remoteVideo" style="width: 100%; display: inline-block;"></div>
            <div id="chatHistory"
               style="font-size: medium; border: none; resize: none; border-radius: 10px; background-color: white; justify-content: left; visibility: hidden;"
               contentEditable="false" hidden>
               <div id="chatHistoryHeader" hidden>Chat History</div>
               <div id="chatHistoryContent" hidden></div>
            </div>
            <div class="icon-cart" id="cartIcon"  style = "visibility: hidden;" onclick="showCart()">
               <div style = "font-size:200%"> Your Cart    </div>
               <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20">
                   <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 15a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0h8m-8 0-1-4m9 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-9-4h10l2-7H3m2 7L3 4m0 0-.792-3H1"></path>
               </svg>
               <span id="cartCount">0</span>
           </div>
         </div>
         <!-- <div id="instructionsBox" style="background-color: white; border: 1px solid #ccc; border-radius: 10px; padding: 20px; margin-top: 20px;" hidden>
            <h2 class = "shoppingheader" style = "padding-bottom: 5px;" >Instructions</h2>
            <ul>
              <li style = "font-size: 16px">Ensure that the AI assistant has been loaded and microphine has been turned on.</li>
              <li style = "font-size: 16px">Speak clearly into the microphone.</li>
              <li style = "font-size: 16px">Order from the available items in the menu.</li>
              <li style = "font-size: 16px"> &ensp;i.e "I would like to <b>order</b> one Big Mac"</li>
              <li style = "font-size: 16px">   &ensp;i.e "I would like to <b>remove</b> one Milo"</li>
              <li style = "font-size: 16px">Once done, you can either Empty your cart or Checkout.</li>
              <li style = "font-size: 16px">If the bot doesn't understand, try rephrasing your order.</li>
              <li style = "font-size: 16px"><b>Upcoming Features:</b> Order item via Menu Number</li>
              <li style = "font-size: 16px">    &ensp;i.e "I would like to <b>order</b> one No. 1"  	&#40;Cheeseburger in this case.&#41;</li>
            </ul>
          </div> -->
      </div>
<!-- Replace the current menu div with this updated version -->
<div id="menu" style = "visibility: hidden;">

   <div class="tabs">
      <button class="tablink" onclick="openMenu(event, 'Drinks')" id="defaultOpen">Drinks</button>
      <button class="tablink" onclick="openMenu(event, 'Food')">Food</button>
  </div>
  
  <div id="Drinks" class="tabcontent"> 
  </div>
  
  <div id="Food" class="tabcontent"> 
  </div>
  
</div>

 
   </div>
   <div margin-top="5px">
      <div id="showTypeMessageCheckbox">
         <input type="checkbox" id="showTypeMessage" onchange="window.updateTypeMessageBox()"></input><br />
      </div>
      <div id="userMessageBox"
         style="width: 940px; min-height: 150px; max-height: 200px; border: 1px solid ; overflow-y: scroll; padding: 10px;"
         hidden type="text" contentEditable="true"></div>
   </div>
   <div>
      <img id="uploadImgIcon" src="./image/attachment.jpg" alt="Button" style="cursor: pointer;" hidden />
   </div>


   <!-- Help Modal -->
   <div id="helpModal" class="modal">
      <div class="modal-content">
         <span class="close" onclick="hideHelpModal()">&times;</span>
         <img src="./image/infographic.png" alt="Help Image">
         <!-- Add any additional help content here -->
      </div>
   </div>


</body>

</html>